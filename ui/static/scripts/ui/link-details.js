// Generated by CoffeeScript 1.6.3
(function() {
  require(['../main'], function(main) {
    return require(['jquery', 'ractive', 'text!ui/set-list.template'], function($, R, template) {
      var sets_related_to_video;
      sets_related_to_video = function(video_url_id, success) {
        var query;
        console.log('About to do the query');
        query = '/api/v1/set/';
        return $.getJSON(query, {
          match__video_url: video_url_id,
          format: 'json'
        }, success);
      };
      console.log('Hello world!');
      console.log(video_url_id);
      console.log('Finding sets...');
      return sets_related_to_video(video_url_id, function(data) {
        console.log('Got some data', data.objects);
        return window.r = new R({
          el: 'set-list',
          template: template,
          data: {
            sets: data.objects,
            greeting: 'hello!'
          }
        });
      });
    });
  });

}).call(this);
