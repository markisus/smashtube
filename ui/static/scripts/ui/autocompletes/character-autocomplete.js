// Generated by CoffeeScript 1.6.3
(function() {
  define(['jquery', 'typeahead', 'underscore'], function($, typeahead, _) {
    console.log('Preparing autcomplete');
    return function(input_id, game_title_id) {
      var options;
      options = {
        data: {
          format: 'json'
        }
      };
      if (game_title_id) {
        options = _(options).extend({
          games__id: game_title_id
        });
      }
      $.ajaxSetup(options);
      return $(input_id).typeahead({
        prefetch: {
          url: '/api/v1/character',
          filter: function(data) {
            return data.objects;
          }
        },
        valueKey: 'name'
      });
    };
  });

}).call(this);
