// Generated by CoffeeScript 1.6.3
(function() {
  define(['jquery', 'typeahead'], function($, typeahead) {
    console.log('Preparing autcomplete');
    return function(input_id) {
      $.ajaxSetup({
        data: {
          format: 'json'
        }
      });
      console.log("Binding autocomplete to", input_id);
      console.log("Finding dom element", $(input_id));
      return $(input_id).typeahead({
        prefetch: {
          url: '/api/v1/player',
          filter: function(data) {
            return data.objects;
          }
        },
        valueKey: 'name'
      });
    };
  });

}).call(this);
